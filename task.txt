Tech challenge SDET
Instructions :
• Use Python and a test framework (e.g., Robot Framework, pytest, unittest).
• Test the public API: https://jsonplaceholder.typicode.com/posts
• Validate important parts of API.
• Add one negative test.
• Structure your test suite for maintainability.
• Include a README with setup instructions.

Tech Challenge – API Automation Framework Requirements

Goal:
Build a production-quality API automation framework in Python to test the public API:
https://jsonplaceholder.typicode.com/posts

The framework must follow best practices (SOLID, DRY, modular), be maintainable, use pytest, include HTML reporting (pytest-html-reporter), and include both positive and negative tests. It must include a response handler, logging utility, JSON schema validation, fixtures, and a simple CI pipeline.

----------------------------------------------------------------------
Required Features
----------------------------------------------------------------------

1. API Client
- Create src/api_client.py that wraps requests.Session.
- It must expose get(), post(), put(), and delete() methods.
- Should support configurable base URL, timeouts, and optional retry mechanism.
- Must log request and response details using the shared logger (without logging sensitive payloads).
- Should follow Single Responsibility Principle.

2. Response Handler
- Create src/response_handler.py.
- Responsible for all response validation and parsing logic.
- Must include:
  - assert_status(response, expected_status)
  - get_json(response) with proper error handling
  - validate_schema(json_data, schema)
  - custom helper functions for common assertions
- Must use jsonschema for validation.

3. Logging Utility
- Create utils/logger.py.
- Must automatically:
  - Create a Logs/ folder at project root (if not exists).
  - Create a date-based folder inside it: Logs/YYYY-MM-DD/
  - Create a log file for each run inside date folder: run_HHMMSS.log
- Must configure:
  - File handler (writes to file)
  - Console handler (prints to terminal)
  - Timestamped logging format
- Must expose get_logger(name) that returns a singleton logger without duplicate handlers.

4. JSON Schema
- Include JSON schema for a "post" object, either:
  - schemas/post_schema.json
  - OR constant POST_SCHEMA inside response_handler.py
- Validate GET /posts and GET /posts/<id> responses using this schema:
  {
    "type": "object",
    "required": ["userId","id","title","body"],
    "properties": {
      "userId": {"type":"integer"},
      "id": {"type":"integer"},
      "title": {"type":"string"},
      "body": {"type":"string"}
    }
  }

5. Test Suite (pytest)
- Use tests/test_posts_api.py for actual tests.
- Use tests/conftest.py for fixtures (api_client, base_url, logger).
- Tests must cover:
  a) GET /posts: returns 200, list is non-empty, validate each item with schema  
  b) GET /posts/1: returns 200, id=1, validate schema  
  c) GET /posts?userId=<n>: validate query filtering for at least 2 userIds  
  d) POST /posts: validate echo of request + id field  
  e) PUT /posts/1: validate update payload echoed  
  f) DELETE /posts/1: should return 200 or 204  
  g) Negative test: invalid endpoint (e.g., /postz) returns 404  

6. Configuration
- pytest.ini must include:
  - addopts
  - testpaths=tests
  - markers: smoke, regression
- Implement pytest_addoption in conftest.py to allow overriding base URL:
  pytest --base-url="https://jsonplaceholder.typicode.com"

7. HTML Reporting Requirement
- Add pytest-html-reporter to requirements.txt.
- Configure in pytest.ini exactly like:

[pytest]
addopts = -vs -rf --alluredir=reports/allure/ ./tests

- Reports must be generated inside ./report
- CI must upload ./report as an artifact

8. Project Structure
The project must follow this layout:

project/
  src/
    api_client.py
    response_handler.py
  utils/
    logger.py
  schemas/
    post_schema.json   (optional if inline schema used)
  tests/
    conftest.py
    test_posts_api.py
  Logs/
    (auto-created at runtime)
  Reports/
    (auto-generated by pytest-html-reporter)
  pytest.ini
  requirements.txt
  README.md
  .github/
    workflows/
      ci.yml

9. Simple GitHub Actions CI
- File: .github/workflows/ci.yml
- Must:
  - Check out repo
  - Set up Python
  - Install dependencies
  - Run pytest and produce HTML report
- Must upload the HTML report as an artifact:
  e.g., upload Reports/latest report or full Reports folder
- No pytest-cov or coverage reporting needed.

10. README Requirements
README.md must include:
- Project description
- Setup instructions:
  - python -m venv .venv
  - source .venv/bin/activate
  - pip install -r requirements.txt
- How to run tests:
  - pytest
  - pytest -m smoke
  - pytest tests/test_posts_api.py::test_get_all_posts
- HTML report instructions (pytest-html-reporter):
  Reports available in Reports/YYYY-MM-DD/
- Logging explanation:
  Logs/YYYY-MM-DD/run_HHMMSS.log
- CI explanation
- Project structure explanation

11. Acceptance Criteria
- All tests pass successfully.
- Negative test included and behaves correctly.
- JSON schema validation works.
- Logs folder auto-created with dated subfolder and timestamped file.
- HTML report generated using pytest-html-reporter.
- API client + response handler follow SOLID and remain modular.
- pytest.ini, conftest, and folder structure implemented correctly.
- CI workflow runs pytest successfully and uploads HTML report artifact.
- Code is clean, typed, and documented.

----------------------------------------------------------------------
End of Requirements
----------------------------------------------------------------------

